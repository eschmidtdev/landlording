<form name="edit_property_form" class="new-property-form">
  <input type="hidden" value="<%= current_user.id %>" id="EpropertyUserID">
  <input type="hidden" value="<%= property.id %>" id="EpropertyID">

  <!-- Property Type Dropdown -->
  <div class="form-group">
    <label for="EpropertyPropertyType" class="bold">Property Type</label>
    <%= select_tag 'Eproperty[property_type]',
                   options_for_select(Property.property_types.keys.map { |type| [type] }, selected: property.property_type),
                   id: 'EpropertyPropertyType',
                   class: 'form-control form-control-lg input-45'

    %>
  </div>

  <!-- Street Address Line 1 -->
  <div class="form-group">
    <label for="EpropertySAL1" class="bold">Street Address Line 1</label>
    <input
      type="text"
      id="EpropertySAL1"
      name="Eproperty[SAL1]"
      placeholder="You Address"
      class="form-control form-control-lg input-45"
      value="<%= check_for(property.address_line_one) %>"
    >
  </div>

  <!-- Street Address Line 2 -->
  <div class="form-group">
    <label for="EpropertySAL2" class="bold">Street Address Line 2</label>
    <input
      type="text"
      id="EpropertySAL2"
      name="Eproperty[SAL2]"
      placeholder="You Address"
      class="form-control form-control-lg input-45"
      value="<%= check_for(property.address_line_two) %>"
    >
  </div>

  <!-- Postal, City, State -->
  <div class="row">
    <!-- Postal -->
    <div class="col">
      <div class="form-group">
        <label for="EpropertyPostalCode" class="bold">Postal Code*</label>
        <input
          type="text"
          placeholder="Zip Code"
          id="EpropertyPostalCode"
          name="Eproperty[PostalCode]"
          class="form-control form-control-lg input-45"
          value="<%= check_for(property.postal_code) %>"
        >
      </div>
    </div>
    <!-- City -->
    <div class="col">
      <div class="form-group">
        <label for="EpropertyCity" class="bold">City*</label>
        <input
          disabled
          type="text"
          id="EpropertyCity"
          placeholder="City"
          name="Eproperty[City]"
          value="<%= check_for(property.city) %>"
          class="form-control form-control-lg input-45"
        >
      </div>
    </div>
    <!-- State -->
    <div class="col">
      <div class="form-group">
        <label for="EpropertyState" class="bold">State*</label>
        <input
          disabled
          type="text"
          id="EpropertyState"
          placeholder="State"
          name="Eproperty[State]"
          value="<%= check_for(property.state) %>"
          class="form-control form-control-lg input-45"
        >
      </div>
    </div>
  </div>

  <!-- Bed Rooms -->
  <div class="row">
    <!-- Bed Room 1 -->
    <div class="col margin-top-mob">
      <label for="EpropertyBedroomA" class="bold">Bedroom</label>
      <%= select_tag('Eproperty[BedroomA]',
                     options_for_select(map_bedrooms, selected: property.bed_one),
                     { prompt: "Select Bedroom",
                       id: 'EpropertyBedroomA',
                       class: 'form-control form-control-lg input-45' })
      %>
    </div>
    <!-- Bed Room 2 -->
    <div class="col margin-top-mob">
      <label for="EpropertyBedroomB" class="bold">Bathroom</label>
      <%= select_tag('Eproperty[BedroomB]',
                     options_for_select(map_bathrooms, selected: property.bed_two),
                     { prompt: "Select Bathroom",
                       id: 'EpropertyBedroomB',
                       class: 'form-control form-control-lg input-45' })
      %>
    </div>
  </div>

  <div class="form-check form-check-inline desktop-margin">
    <input type="checkbox" class="form-check-input" id="EpropertyLandlordInfo" <%= 'checked' if property.saved_landlord %>>
    <label class="form-check-label mt-mob-22 bold" for="EpropertyLandlordInfo">Same landlord contact info as found in your
      Account Settings?</label>
  </div>

  <!-- Landlord Contact Name -->
  <div class="form-group mt-3">
    <label for="EpropertyLandlordContactName" class="bold">Landlord Contact Name*</label>
    <input
      type="text"
      <%= disabled?(property, 'name') %>
      placeholder="Landlord Full Name"
      id="EpropertyLandlordContactName"
      name="Eproperty[LandlordContactName]"
      class="form-control form-control-lg input-45"
      value="<%= check_for(property.landlord_contact_name) %>"
    >
  </div>

  <!-- Landlord Contact Phone -->
  <div class="form-group">
    <label for="EpropertyLandlordContactPhone" class="bold">Landlord Contact Phone*</label>
    <input
      type="text"
      <%= disabled?(property, 'phone') %>
      placeholder="Phone Number"
      id="EpropertyLandlordContactPhone"
      name="Eproperty[LandlordContactPhone]"
      class="form-control form-control-lg input-45"
      value="<%= check_for(property.landlord_contact_phone) %>"
      onkeypress="return event.charCode >= 48 && event.charCode <= 57"
      oncopy="return false" oncut="return false" onpaste="return false"
    >
  </div>

  <!-- Landlord Contact Email -->
  <div class="form-group">
    <label for="EpropertyLandlordContactEmail" class="bold">Landlord Contact Email*</label>
    <input
      type="email"
      <%= disabled?(property, 'email') %>
      placeholder="Enter Email Address"
      id="EpropertyLandlordContactEmail"
      name="Eproperty[LandlordContactEmail]"
      class="form-control form-control-lg input-45"
      value="<%= check_for(property.landlord_contact_email) %>"
    >
  </div>

  <!-- Radio Buttons -->
  <span class="radio-label bold">Currently Leased?</span>
  <label class="radio-inline" for="ECLY">
    <input type="radio" class="ml-2 currently-leased" id="ECLY" name="Eproperty[CurrentlyLeased]" value="true" <%= 'checked' if property.currently_leased %>><span class="ml-1">Yes</span>
  </label>
  <label class="radio-inline" for="ECLN">
    <input type="radio" class="ml-2 currently-leased" id="ECLN" name="Eproperty[CurrentlyLeased]" value="false" <%= 'checked' if !property.currently_leased %>><span class="ml-1">No</span>
  </label><br>


  <!-- Add New Tenant -->
  <%= render partial: 'properties/partials/update_tenant_form', locals: { property: @property } %>

  <div class="mt-4">
    <span class="radio-label bold">Will the property address also be used for notices sent to the tenant?</span><br>
    <label class="radio-inline" for="EAPAY">
      <input type="radio" class="asked-for-property" id="EAPAY" name="Eproperty[AskPropertyAddress]" value="true" <%= 'checked' if property.property_for_notice %>><span class="ml-1">Yes</span>
    </label>
    <label class="radio-inline" for="EAPAN">
      <input type="radio" class="asked-for-property" id="EAPAN" name="Eproperty[AskPropertyAddress]" value="false" <%= 'checked' if !property.property_for_notice %>><span class="ml-1">No</span>
    </label><br>
  </div>

  <hr>

  <div class="d-flex justify-content-start mb-5">
    <button
      type="submit"
      class="create-button"
      id="UpdatePropertyBtn"
    >
      Save
    </button>
    <button
      type="button"
      class="cancel-button ml-3"
      onclick="window.location.href='<%= properties_path %>'"
    >
      Cancel
    </button>
  </div>

</form>

<%= javascript_include_tag 'properties' %>
