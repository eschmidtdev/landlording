$(document).ready(function(){function t(t){t.preventDefault(),s();const e=$("#SettingNP").val(),r=$("#SettingCP").val(),a=$("#SettingCNP").val(),o=$("#AccSettingPassUpdateUID").val();return $.ajax({url:`/account_settings/${o}`,type:"PUT",data:{account_setting:{new_password:e,from:"ChangePassword",current_password:r,confirm_password:a}},success:function(t){n(t)},error:function(){}}),!1}function e(){$("#SavePersonalInfo").prop("disabled",!1)}function s(){$("#SavePersonalInfo").prop("disabled",!0)}function n(t){o(),!0===t.success&&r(t),!1===t.success&&a(t),e()}function r(t){$("#ChangePassword").trigger("reset"),$(".success_alert").text("").show().append(t.message).delay(2e3).fadeOut(300)}function a(t){"current_password"===t.error&&$("#PassIncorrect").text("").show().text(t.message)}function o(){$(".error_alert").text("").addClass("display_none"),$(".success_alert").text("").addClass("display_none"),$("#PassIncorrect").text("").addClass("display_none")}$(function(){$("form[name='account_change_password']").validate({rules:{"Setting[CP]":{required:!0,minlength:8},"Setting[NP]":{required:!0,minlength:8},"Setting[CNP]":{required:!0,equalTo:"#SettingNP"}},messages:{"Setting[CP]":{required:"Current Password is required",minlength:"Password is too short (minimum is 8 characters)"},"Setting[NP]":{required:"New Password is required",minlength:"Password is too short (minimum is 8 characters)"},"Setting[CNP]":{required:"Confirm New Password is required"}},submitHandler:function(e,s){t(s)}})}),$("#SettingCP").keyup(function(){$("#PassIncorrect").hide()}),$(":input").on("keyup change",function(){o()}),$("#accSettingCP").click(function(){const t=$(".toggle-password-acc-set-cp");"password"===t.attr("type")?t.attr("type","text"):t.attr("type","password")}),$("#accSettingNP").click(function(){const t=$(".toggle-password-acc-set-np");"password"===t.attr("type")?t.attr("type","text"):t.attr("type","password")}),$("#accSettingCNP").click(function(){const t=$(".toggle-password-acc-set-cnp");"password"===t.attr("type")?t.attr("type","text"):t.attr("type","password")})});