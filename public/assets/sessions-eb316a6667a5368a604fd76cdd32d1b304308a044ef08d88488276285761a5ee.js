$(document).ready(function(){function e(e){e.preventDefault(),n();const s=$("#InputEmail").val(),a=$("#InputPassword").val();return $.ajax({url:"/users/sign_in",type:"POST",data:{user:{email:s,password:a}},success:function(e){r(e)},error:function(){}}),!1}function s(){$("#LoginBtn").prop("disabled",!1)}function n(){$("#LoginBtn").prop("disabled",!0)}function r(e){a(),s(),!0===e.success&&(window.location.href=e.url),!1===e.success&&$(".error_alert").text("").show().append(e.message)}function a(){$(".error_alert").text("").hide()}$(function(){$("form[name='session']").validate({rules:{"user[email]":{required:!0,email:!0},"user[password]":{required:!0,minlength:8}},messages:{"user[email]":"Please enter a valid email address","user[password]":{required:"Please provide a password",minlength:"Password is too short (minimum is 8 characters)"}},submitHandler:function(s,n){e(n)}})}),$(":input").on("keyup change",function(){a()})});